# GitHub项目收集器设置指南

这个项目通过**浏览器扩展**的方式，来一键收集GitHub项目信息到飞书表格。

## 🎯 功能特点

- ✅ **一键收集**: 在GitHub项目页面通过浏览器扩展一键触发收集。
- ✅ **数据丰富**: 使用GitHub官方API获取项目名称、描述、stars、forks、主语言、许可证等详细信息。
- ✅ **自动入库**: 通过n8n工作流自动将数据插入到指定的飞书表格中。
- ✅ **稳定可靠**: 基于n8n和GitHub API，数据获取稳定、准确。
- ✅ **配置简单**: 只需配置n8n工作流和浏览器扩展，即可快速使用。

## 📋 前置要求

1.  **n8n实例**: 需要有一个可以从公网访问的n8n实例或者本地的也可以。
2.  **飞书账号**: 用于创建和访问飞书表格。
3.  **Chrome浏览器**: 用于安装浏览器扩展。

## 🔧 设置步骤

### 1. 准备飞书表格

在飞书中创建一个新的多维表格，并确保它包含以下列。列名和类型建议保持一致，以便工作流顺利运行。

| 列名 (字段名称) | 字段类型 | 说明 |
|:---|:---|:---|
| `github_url` | URL | GitHub项目链接 |
| `title` | Text | 项目名称 |
| `description` | Text | 项目描述 |
| `owner` | Text | 项目所有者 |
| `repository` | Text | 仓库名称 |
| `language` | Text | 主要编程语言 |
| `stars` | Text | 星标数量 (e.g., "1.2K") |
| `forks` | Text | Fork数量 (e.g., "3.4K") |
| `license` | Text | 开源许可证 |
| `topics` | Text | 主题标签 (逗号分隔) |
| `created_at` | Text | 项目创建日期 |
| `updated_at` | Text | 最后更新日期 |
| `collected_at` | DateTime | 数据收集时间 |
| `full_name` | Text | 完整名称 (owner/repo) |
| `homepage` | URL | 项目主页URL |
| `is_private` | Checkbox | 是否为私有仓库 |
| `is_fork` | Checkbox | 是否为Fork项目 |
| `default_branch` | Text | 默认分支名称 |
| `open_issues` | Number | 开放的Issues数量 |
| `size` | Number | 仓库大小(KB) |

### 2. 导入并配置n8n工作流

1.  打开你的n8n实例。
2.  创建一个新的空工作流。
3.  点击右上角的 "Import from file"，然后选择项目中的 `github-to-feishu-workflow-api.json` 文件并导入。
4.  在工作流中找到名为 **"同步飞书多维表格"** 的飞书节点，并进行配置：
    - **Credentials**: 选择或创建一个你的飞书API凭证。
    - **App Toke**: 填入你在上一步创建的飞书多维表格的App Token。
    - **Table ID**: 填入该表格的Table ID。
5.  点击工作流左上角的 **"Save"** 保存工作流。
6.  激活工作流（将左上角的开关从 "Inactive" 切换到 "Active"）。
7.  点击 **"Webhook"** 节点，复制 **Production URL**。这个URL将在下一步配置浏览器扩展时使用。

### 3. 安装并配置浏览器扩展

1.  打开Chrome浏览器，在地址栏输入 `chrome://extensions/` 并回车。
2.  在页面右上角，开启 **"开发者模式"**。
3.  点击左上角的 **"加载已解压的扩展程序"** 按钮。
4.  在弹出的文件选择框中，选择本项目下的 `browser-extension` 文件夹。
5.  扩展安装成功后，会在浏览器工具栏看到一个新的图标。
6.  点击该扩展图标，会弹出一个配置窗口。
7.  在 **"n8n Webhook URL"** 输入框中，粘贴上一步从n8n复制的Webhook Production URL。
8.  点击 **"保存配置"**。

## 🚀 使用方法

1.  用Chrome浏览器打开任意一个你想要收藏的GitHub项目主页。
2.  页面右下角会出现一个浮动的 **"🚀"** 按钮，点击它即可开始收集。
3.  或者，点击浏览器工具栏中的扩展图标，在弹出窗口中点击 **"收集当前项目"** 按钮。
4.  收集成功后，会收到提示，同时数据会自动添加到你的飞书表格中。

## 🔍 收集的信息

工作流会通过GitHub API获取以下信息并存入飞书表格：

- 项目URL、名称、描述、所有者、仓库名
- Star数、Fork数、主语言、许可证、主题标签
- 创建时间、更新时间、仓库大小、默认分支
- 是否私有、是否Fork、开放Issue数
- 项目主页
- 收集操作的时间戳

## 🛠️ 自定义配置

### 修改收集字段

如需修改收集的字段，可以编辑n8n工作流：

1.  **处理API数据节点**: 修改此Code节点的JavaScript代码，可以调整从GitHub API响应中提取的数据。
2.  **同步飞书多维表格节点**: 调整节点中的字段映射，使其与你的飞书表格列相匹配。

## 🔒 安全注意事项

- 不要公开分享你的n8n Webhook URL，因为它直接关联到你的工作流。
- 确保你的飞书API凭证和表格Token安全存放。
- 检查并设置你的飞书表格的访问权限。

## 🐛 故障排除

### 常见问题

1.  **点击收集按钮后无响应或失败**
    - 检查浏览器开发者工具（F12）的控制台和网络请求中是否有错误信息。
    - 确认浏览器扩展中配置的n8n Webhook URL是否正确，并且末尾没有多余的空格。
    - 检查n8n工作流是否已激活。
    - 确认你的n8n实例可以被公网访问。

2.  **数据未写入飞书表格**
    - 检查n8n工作流的执行日志（Executions），查看是否有错误。
    - 确认飞书节点的配置（App Token, Table ID）是否正确。
    - 检查飞书表格的列名是否与工作流中设置的字段名匹配。

## 📝 更新日志

- v1.0: 初始版本，支持通过浏览器扩展收集GitHub项目信息。

## 🤝 贡献

欢迎提交问题和改进建议！