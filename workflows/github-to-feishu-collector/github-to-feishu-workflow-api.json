{
  "name": "GitHubæ”¶é›†å™¨ä¹¦ç­¾åˆ›å»ºåŠ©æ‰‹",
  "nodes": [
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "github-project-api",
        "responseMode": "responseNode",
        "options": {}
      },
      "id": "b72c92cc-f3ca-4be9-8491-3ff11fe4e0c1",
      "name": "Webhook",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 1,
      "position": [
        1120,
        -220
      ],
      "webhookId": "github-project-collector"
    },
    {
      "parameters": {
        "jsCode": "// ä»GitHub URLæå–ä»“åº“ä¿¡æ¯\nconst githubUrl = $input.first().json.body.github_url;\nconst repoMatch = githubUrl.match(/github\\.com\\/([^/]+)\\/([^/]+)/);\n\nif (!repoMatch) {\n  throw new Error('æ— æ•ˆçš„GitHub URL');\n}\n\nconst owner = repoMatch[1];\nconst repo = repoMatch[2].replace(/\\.git$/, ''); // ç§»é™¤.gitåç¼€\n\nreturn {\n  github_url: githubUrl,\n  owner: owner,\n  repository: repo,\n  api_url: `https://api.github.com/repos/${owner}/${repo}`\n};"
      },
      "id": "f0917d83-8755-41ac-9d26-5abc96622702",
      "name": "æå–ä»“åº“ä¿¡æ¯",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1320,
        -220
      ]
    },
    {
      "parameters": {
        "url": "={{$json.api_url}}",
        "sendHeaders": true,
        "headerParameters": {
          "parameters": [
            {
              "name": "User-Agent",
              "value": "n8n-github-collector"
            },
            {
              "name": "Accept",
              "value": "application/vnd.github.v3+json"
            }
          ]
        },
        "options": {}
      },
      "id": "344de716-af87-4562-a606-03eff0d1b3e8",
      "name": "è°ƒç”¨GitHub API",
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 3,
      "position": [
        1600,
        -220
      ]
    },
    {
      "parameters": {
        "jsCode": "// å¤„ç†GitHub APIå“åº”\nconst apiData = $json;\nconst originalData = $('æå–ä»“åº“ä¿¡æ¯').first().json;\n\n// æ ¼å¼åŒ–æ•°å­—\nconst formatNumber = (num) => {\n  if (num >= 1000000) {\n    return (num / 1000000).toFixed(1) + 'M';\n  } else if (num >= 1000) {\n    return (num / 1000).toFixed(1) + 'K';\n  }\n  return num.toString();\n};\n\n// æ ¼å¼åŒ–æ—¥æœŸ\nconst formatDate = (dateStr) => {\n  if (!dateStr) return '';\n  return new Date(dateStr).toLocaleDateString('zh-CN');\n};\n\nreturn {\n  github_url: originalData.github_url,\n  title: apiData.name || '',\n  description: apiData.description || '',\n  owner: apiData.owner?.login || originalData.owner,\n  repository: apiData.name || originalData.repository,\n  language: apiData.language || '',\n  stars: formatNumber(apiData.stargazers_count || 0),\n  forks: formatNumber(apiData.forks_count || 0),\n  license: apiData.license?.name || '',\n  topics: apiData.topics ? apiData.topics.join(', ') : '',\n  created_at: formatDate(apiData.created_at),\n  updated_at: formatDate(apiData.updated_at),\n  collected_at: new Date().toISOString(),\n  full_name: apiData.full_name || `${originalData.owner}/${originalData.repository}`,\n  homepage: apiData.homepage || '',\n  is_private: apiData.private || false,\n  is_fork: apiData.fork || false,\n  default_branch: apiData.default_branch || 'main',\n  open_issues: apiData.open_issues_count || 0,\n  size: apiData.size || 0\n};"
      },
      "id": "35c3d537-f204-46e1-8e18-2c205a8e6f60",
      "name": "å¤„ç†APIæ•°æ®",
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1140,
        0
      ]
    },
    {
      "parameters": {
        "respondWith": "json",
        "responseBody": "={\n    \"success\": true,\n    \"message\": \"GitHubé¡¹ç›®å·²æˆåŠŸæ·»åŠ åˆ°é£ä¹¦è¡¨æ ¼\",\n    \"timestamp\": \"{{ new Date().toISOString() }}\"\n}",
        "options": {}
      },
      "id": "d830d24b-a01c-48a8-bbc7-b5f4b3b09a5b",
      "name": "è¿”å›å“åº”",
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1,
      "position": [
        1620,
        0
      ]
    },
    {
      "parameters": {
        "resource": "bitable",
        "operation": "bitable:table:record:add",
        "app_toke": "P20QbmrEma3jqfsIobdcf09DnCh",
        "table_id": "tbl1MFo8l53moMge",
        "body": "=  {\n    \"fields\": {\n      \"github_url\": \"{{ $json.github_url }}\",\n      \"title\": \"{{ $json.title }}\",\n      \"description\": \"{{ $json.description }}\",\n      \"owner\": \"{{ $json.owner }}\",\n      \"repository\": \"{{ $json.repository }}\",\n      \"language\": \"{{ $json.language }}\",\n      \"stars\": \"{{ $json.stars }}\",\n      \"forks\": \"{{ $json.forks }}\",\n      \"license\": \"{{ $json.license }}\",\n      \"topics\": \"{{ $json.topics }}\",\n      \"created_at\": \"{{ $json.created_at }}\",\n      \"updated_at\": \"{{ $json.updated_at }}\",\n      \"collected_at\": \"{{ $json.collected_at }}\",\n      \"full_name\": \"{{ $json.full_name }}\",\n      \"homepage\": \"{{ $json.homepage }}\",\n      \"is_private\": \"{{ $json.is_private }}\",\n      \"is_fork\": \"{{ $json.is_fork }}\",\n      \"default_branch\": \"{{ $json.default_branch }}\",\n      \"open_issues\": \"{{ $json.open_issues }}\",\n      \"size\": \"{{ $json.size }}\"\n    }\n  }"
      },
      "type": "n8n-nodes-feishu-lite.feishuNode",
      "typeVersion": 1,
      "position": [
        1380,
        0
      ],
      "id": "5e7ccdea-142c-4fd9-bccc-9c9df0a4ff71",
      "name": "åŒæ­¥é£ä¹¦å¤šç»´è¡¨æ ¼",
      "credentials": {
        "feishuCredentialsApi": {
          "id": "L8ptT3ckLwYHTfXe",
          "name": "Feishu Credentials account"
        }
      }
    },
    {
      "parameters": {
        "content": "## GitHubé¡¹ç›®æ”¶é›†å™¨\n###  ğŸ“‹ åŸºæœ¬ä¿¡æ¯\n   - å·¥ä½œæµåç§°: github-to-feishu-collector\n   - ç‰ˆæœ¬: v1.0\n   - åˆ›å»ºè€…: æ—æœˆåŠå­èŠAI\n   - å¾®ä¿¡ï¼šcloud-native-101\n   - å…¬ä¼—å·: æ—æœˆåŠå­çš„AIç¬”è®°\n\n\n### ğŸ¯ åŠŸèƒ½æ¦‚è¿°\n  é€šè¿‡æµè§ˆå™¨æ‰©å±•ï¼Œä¸€é”®æ”¶é›†ä»»æ„GitHubé¡¹ç›®ä¿¡æ¯å¹¶è‡ªåŠ¨åŒæ­¥åˆ°é£ä¹¦å¤šç»´è¡¨æ ¼ã€‚è¯¥å·¥ä½œæµåˆ©ç”¨GitHubå®˜æ–¹APIè·å–é¡¹ç›®å…ƒæ•°æ®ï¼ˆå¦‚Starsã€Forksã€è¯­è¨€ç­‰ï¼‰ï¼Œç¡®ä¿æ•°æ®å‡†ç¡®ã€ç¨³å®šï¼Œæ˜¯æ­å»ºä¸ªäººæˆ–å›¢é˜ŸGitHubé¡¹ç›®çŸ¥è¯†åº“çš„åˆ©å™¨ã€‚\n\n\n###  é…ç½®è¯´æ˜\n   1. é…ç½®n8nå·¥ä½œæµ:\n      - å¯¼å…¥ github-to-feishu-workflow-api.jsonã€‚\n      - é…ç½® \"åŒæ­¥é£ä¹¦å¤šç»´è¡¨æ ¼\" èŠ‚ç‚¹ï¼Œå¡«å…¥é£ä¹¦APIå‡­è¯ã€è¡¨æ ¼App Tokenå’ŒTable IDã€‚\n      - æ¿€æ´»å·¥ä½œæµå¹¶å¤åˆ¶Webhook URLã€‚\n   2. é…ç½®æµè§ˆå™¨æ‰©å±•:\n      - åœ¨Chromeä¸­åŠ è½½ browser-extension æ–‡ä»¶å¤¹ã€‚\n      - åœ¨æ‰©å±•é…ç½®ä¸­ï¼Œç²˜è´´å¹¶ä¿å­˜n8n Webhook URLã€‚",
        "height": 720,
        "width": 1420,
        "color": 5
      },
      "type": "n8n-nodes-base.stickyNote",
      "typeVersion": 1,
      "position": [
        440,
        -540
      ],
      "id": "83ab08f1-975f-4c65-9e6a-fa94dcde3f2f",
      "name": "Sticky Note"
    }
  ],
  "pinData": {},
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "æå–ä»“åº“ä¿¡æ¯",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "æå–ä»“åº“ä¿¡æ¯": {
      "main": [
        [
          {
            "node": "è°ƒç”¨GitHub API",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "è°ƒç”¨GitHub API": {
      "main": [
        [
          {
            "node": "å¤„ç†APIæ•°æ®",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "å¤„ç†APIæ•°æ®": {
      "main": [
        [
          {
            "node": "åŒæ­¥é£ä¹¦å¤šç»´è¡¨æ ¼",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "åŒæ­¥é£ä¹¦å¤šç»´è¡¨æ ¼": {
      "main": [
        [
          {
            "node": "è¿”å›å“åº”",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": true,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "0e8a783a-82d2-449b-87a0-f858c562a8b5",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "1bcceb694542a87d03dcbfc74b010fcbb893175a18a9dab6ba2e57e028f57403"
  },
  "id": "u6gVO8OHzEKJ2d0t",
  "tags": []
}